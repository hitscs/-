<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0066)http://www.17sucai.com/preview/33040/2014-03-05/3D_Cloud/demo.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>3D标签</title>

<style type="text/css">
.tagBall{width:800px;height:800px;margin:50px auto;position:relative;}
.tag{display:block;position:absolute;left:0px;top:0px;color:#000;text-decoration:none;font-size:15px;font-family:"微软雅黑";font-weight:bold;}
.tag:hover{border:1px solid #666;}
</style>
    
</head>
<body>

<div class="tagBall">
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(236, 135, 224); font-size: 9.45217132180119px; opacity: 0.510885868678405; z-index: 63; left: 320.29275774539px; top: 394.051659464606px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(150, 47, 110); font-size: 9.86090496955531px; opacity: 0.565701200319917; z-index: 65; left: 324.213478332743px; top: 528.252039570346px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(197, 196, 2); font-size: 9.91418099609627px; opacity: 0.572513099677935; z-index: 66; left: 472.28684891176px; top: 518.58305859393px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(14, 209, 191); font-size: 9.77856105664313px; opacity: 0.555026645100503; z-index: 65; left: 518.297798783611px; top: 374.811840121207px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(12, 14, 141); font-size: 9.79110674449148px; opacity: 0.556664584212346; z-index: 65; left: 420.049410130121px; top: 257.958332053629px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(173, 175, 16); font-size: 10.0735996667684px; opacity: 0.592466075005008; z-index: 67; left: 268.128745391515px; top: 260.622148124964px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(93, 244, 246); font-size: 10.570350041128px; opacity: 0.650780253126532; z-index: 70; left: 168.61734273673px; top: 372.775322600677px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(241, 149, 145); font-size: 11.1191121387528px; opacity: 0.709142854451978; z-index: 74; left: 176.846769825856px; top: 522.845012988907px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(49, 215, 115); font-size: 11.5246874475626px; opacity: 0.748705220260847; z-index: 76; left: 284.200261984341px; top: 631.507286617216px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(60, 57, 249); font-size: 11.6662098860521px; opacity: 0.761862811022163; z-index: 77; left: 437.736794397753px; top: 649.440964303703px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(195, 205, 235); font-size: 11.5706364975708px; opacity: 0.753012470896395; z-index: 77; left: 571.440976760652px; top: 571.334048692001px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(185, 247, 134); font-size: 11.377401721088px; opacity: 0.734664207777955; z-index: 75; left: 633.868952143246px; top: 429.82153637487px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(159, 9, 131); font-size: 11.2443256633659px; opacity: 0.721661511098128; z-index: 74; left: 604.227873557328px; top: 277.716359250368px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(174, 71, 122); font-size: 11.2866816362948px; opacity: 0.725833325553943; z-index: 75; left: 495.111195552452px; top: 167.315997224166px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(64, 152, 16); font-size: 11.5657243343607px; opacity: 0.752553639936733; z-index: 77; left: 344.348028017361px; top: 133.620697544852px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(110, 92, 21); font-size: 12.0941168917568px; opacity: 0.799772957501358; z-index: 80; left: 200.619586335684px; top: 185.376729969405px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(145, 97, 41); font-size: 12.8334932134094px; opacity: 0.859319493754642; z-index: 85; left: 106.449245015773px; top: 303.914081998812px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(154, 163, 233); font-size: 13.6824053711178px; opacity: 0.919751279523825; z-index: 91; left: 90.359799008051px; top: 454.371712053397px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(217, 196, 96); font-size: 14.4754373562016px; opacity: 0.969801566215792; z-index: 96; left: 157.43070920474px; top: 591.390342576747px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(104, 14, 9); font-size: 15.0265879006481px; opacity: 1.00147449201508; z-index: 100; left: 285.660650554599px; top: 675.771927306108px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(115, 169, 148); font-size: 15.2202340318148px; opacity: 1.01205818251296; z-index: 101; left: 440.842936271385px; top: 683.861576184537px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(174, 235, 114); font-size: 15.0842345040607px; opacity: 1.00465356197105; z-index: 100; left: 579.379630012367px; top: 613.299412512796px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(236, 92, 13); font-size: 14.7729165435656px; opacity: 0.987190328115826; z-index: 98; left: 663.76179979402px; top: 483.056112756074px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(1, 33, 68); font-size: 14.4828609689814px; opacity: 0.970244194607787; z-index: 96; left: 672.380311461819px; top: 328.030997331534px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(1, 128, 4); font-size: 14.3825229437928px; opacity: 0.964222952014962; z-index: 95; left: 601.352571412939px; top: 189.70000602849px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(177, 147, 166); font-size: 14.5905373656085px; opacity: 0.976613687800338; z-index: 97; left: 470.020458026332px; top: 105.145633102869px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(26, 211, 199); font-size: 15.18149385201px; opacity: 1.00996245021401; z-index: 101; left: 315.998017696559px; top: 97.1439500214742px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(121, 200, 236); font-size: 16.1867482505145px; opacity: 1.06109669836851; z-index: 107; left: 178.896141004887px; top: 166.269435075276px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(129, 160, 81); font-size: 17.568385238489px; opacity: 1.12182798834494; z-index: 117; left: 98.8931982969374px; top: 294.238273085339px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(5, 110, 243); font-size: 19.162990307757px; opacity: 1.18103430279319; z-index: 127; left: 98.4486162048315px; top: 445.062118977298px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(134, 113, 236); font-size: 20.6388332271911px; opacity: 1.22767894083931; z-index: 137; left: 178.517251303947px; top: 572.719087572441px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(52, 78, 195); font-size: 21.5781582011425px; opacity: 1.25404385535842; z-index: 143; left: 316.042032120548px; top: 638.215909021104px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(5, 86, 243); font-size: 21.7381186293719px; opacity: 1.25830656983457; z-index: 144; left: 470.307377233372px; top: 620.394606861124px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(188, 208, 25); font-size: 21.2691361636547px; opacity: 1.24562728341108; z-index: 141; left: 592.069397711811px; top: 522.905327705218px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(98, 235, 79); font-size: 20.6215230767533px; opacity: 1.22717054150292; z-index: 137; left: 636.507442043242px; top: 374.655304327546px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(226, 174, 231); font-size: 20.2800488290777px; opacity: 1.21696400871527; z-index: 135; left: 589.851031583028px; top: 227.887866835364px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(108, 218, 252); font-size: 20.6207838317027px; opacity: 1.22714881086226; z-index: 137; left: 463.511951992882px; top: 135.826093960464px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(196, 138, 141); font-size: 21.9129867139901px; opacity: 1.26289534771545; z-index: 146; left: 308.235972947687px; top: 136.79293299467px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(21, 103, 25); font-size: 24.2970336296559px; opacity: 1.31886723880799; z-index: 161; left: 190.208431008857px; top: 233.356248375915px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(226, 238, 30); font-size: 27.5342884524841px; opacity: 1.37935392429318; z-index: 183; left: 164.087658847945px; top: 378.924544722809px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(47, 110, 47); font-size: 30.5159887861137px; opacity: 1.4237120004769; z-index: 203; left: 250.133868500236px; top: 499.442492302558px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(158, 24, 140); font-size: 31.549320856289px; opacity: 1.43712829117287; z-index: 210; left: 400.758351916533px; top: 516.929130593622px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(141, 37, 250); font-size: 30.4978723443746px; opacity: 1.42346867592861; z-index: 203; left: 513.287743247964px; top: 411.888591895436px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(133, 194, 72); font-size: 29.6464150830258px; opacity: 1.41169719402295; z-index: 197; left: 481.675544558007px; top: 264.077784936324px;">item2</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(8, 226, 90); font-size: 31.7886672468787px; opacity: 1.44011143752619; z-index: 211; left: 333.336843868648px; top: 238.13933799745px;">item1</a>
<a class="tag" target="_blank" href="http://www.17sucai.com/" style="color: rgb(141, 12, 89); font-size: 37.0896490348114px; opacity: 1.49631208009182; z-index: 247; left: 310.941692212524px; top: 367.360520759556px;">item2</a>
</div>

<script type="text/javascript">
var tagEle = "querySelectorAll" in document ? document.querySelectorAll(".tag") : getClass("tag"),
	paper = "querySelectorAll" in document ? document.querySelector(".tagBall") : getClass("tagBall")[0];
	RADIUS =300,
	fallLength = 500,
	tags=[],
	angleX = Math.PI/500,
	angleY = Math.PI/500,
	CX = paper.offsetWidth/2,
	CY = paper.offsetHeight/2,
	EX = paper.offsetLeft + document.body.scrollLeft + document.documentElement.scrollLeft,
	EY = paper.offsetTop + document.body.scrollTop + document.documentElement.scrollTop;

function getClass(className){
	var ele = document.getElementsByTagName("*");
	var classEle = [];
	for(var i=0;i<ele.length;i++){
		var cn = ele[i].className;
		if(cn === className){
			classEle.push(ele[i]);
		}
	}
	return classEle;
}

function innit(){
	for(var i=0;i<tagEle.length;i++){
		var a , b;
		var k = (2*(i+1)-1)/tagEle.length - 1;
		var a = Math.acos(k);
		var b = a*Math.sqrt(tagEle.length*Math.PI);
		// var a = Math.random()*2*Math.PI;
		// var b = Math.random()*2*Math.PI;
		var x = RADIUS * Math.sin(a) * Math.cos(b);
		var y = RADIUS * Math.sin(a) * Math.sin(b); 
		var z = RADIUS * Math.cos(a);
		var t = new tag(tagEle[i] , x , y , z);
		tagEle[i].style.color = "rgb("+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+")";
		tags.push(t);
		t.move();
	}
}

Array.prototype.forEach = function(callback){
	for(var i=0;i<this.length;i++){
		callback.call(this[i]);
	}
}

function animate(){
	setInterval(function(){
		rotateX();
		rotateY();
		tags.forEach(function(){
			this.move();
		})
	} , 17)
}

if("addEventListener" in window){
	paper.addEventListener("mousemove" , function(event){
		var x = event.clientX - EX - CX;
		var y = event.clientY - EY - CY;
		// angleY = -x* (Math.sqrt(Math.pow(x , 2) + Math.pow(y , 2)) > RADIUS/4 ? 0.0002 : 0.0001);
		// angleX = -y* (Math.sqrt(Math.pow(x , 2) + Math.pow(y , 2)) > RADIUS/4 ? 0.0002 : 0.0001);
		angleY = x*0.0001;
		angleX = y*0.0001;
	});
}
else {
	paper.attachEvent("onmousemove" , function(event){
		var x = event.clientX - EX - CX;
		var y = event.clientY - EY - CY;
		angleY = x*0.0001;
		angleX = y*0.0001;
	});
}

function rotateX(){
	var cos = Math.cos(angleX);
	var sin = Math.sin(angleX);
	tags.forEach(function(){
		var y1 = this.y * cos - this.z * sin;
		var z1 = this.z * cos + this.y * sin;
		this.y = y1;
		this.z = z1;
	})
	
}

function rotateY(){
	var cos = Math.cos(angleY);
	var sin = Math.sin(angleY);
	tags.forEach(function(){
		var x1 = this.x * cos - this.z * sin;
		var z1 = this.z * cos + this.x * sin;
		this.x = x1;
		this.z = z1;
	})
}

var tag = function(ele , x , y , z){
	this.ele = ele;
	this.x = x;
	this.y = y;
	this.z = z;
}

tag.prototype = {
	move:function(){
		var scale = fallLength/(fallLength-this.z);
		var alpha = (this.z+RADIUS)/(2*RADIUS);
		this.ele.style.fontSize = 15 * scale + "px";
		this.ele.style.opacity = alpha+0.5;
		this.ele.style.filter = "alpha(opacity = "+(alpha+0.5)*100+")";
		this.ele.style.zIndex = parseInt(scale*100);
		this.ele.style.left = this.x + CX - this.ele.offsetWidth/2 +"px";
		this.ele.style.top = this.y + CY - this.ele.offsetHeight/2 +"px";
	}
}
innit();
animate();
</script>


</body></html>